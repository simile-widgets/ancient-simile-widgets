

/* exhibit-theme.js */

Exhibit.Theme={urlPrefix:Exhibit.urlPrefix+"themes/classic/",createTranslucentImage:function(doc,url){return SimileAjax.Graphics.createTranslucentImage(doc,Exhibit.Theme.urlPrefix+url);},createPopupMenuDom:function(element){var div=document.createElement("div");div.className="exhibit-menu-popup exhibit-ui-protection";var dom={elmt:div,close:function(){document.body.removeChild(this.elmt);},open:function(){var self=this;this.layer=SimileAjax.WindowManager.pushLayer(function(){self.close();},true);var docWidth=document.body.offsetWidth;var docHeight=document.body.offsetHeight;var coords=SimileAjax.DOM.getPageCoordinates(element);div.style.top=(coords.top+element.scrollHeight)+"px";div.style.right=(docWidth-(coords.left+element.scrollWidth))+"px";document.body.appendChild(this.elmt);},appendMenuItem:function(label,icon,onClick){var self=this;var a=document.createElement("a");a.className="exhibit-menu-item";a.href="javascript:";SimileAjax.WindowManager.registerEvent(a,"click",function(elmt,evt,target){onClick(elmt,evt,target);SimileAjax.WindowManager.popLayer(self.layer);SimileAjax.DOM.cancelEvent(evt);return false;});var div=document.createElement("div");a.appendChild(div);div.appendChild(SimileAjax.Graphics.createTranslucentImage(document,icon!=null?icon:(Exhibit.Theme.urlPrefix+"images/blank-16x16.png")));div.appendChild(document.createTextNode(label));this.elmt.appendChild(a);},appendSeparator:function(){var hr=document.createElement("hr");this.elmt.appendChild(hr);}};return dom;},createCopyButton:function(all){var button=document.createElement("button");button.className="exhibit-copyButton screen";button.innerHTML=all?Exhibit.l10n.copyAllButtonLabel:Exhibit.l10n.copyButtonLabel;return button;},createCopyDialogBox:function(string){var template={tag:"div",className:"exhibit-copyDialog exhibit-ui-protection",children:[{tag:"button",field:"closeButton",children:[Exhibit.l10n.copyDialogBoxCloseButtonLabel]},{tag:"p",children:[Exhibit.l10n.copyDialogBoxPrompt]},{tag:"div",field:"textAreaContainer"}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);dom.textAreaContainer.innerHTML="<textarea wrap='off' rows='15'>"+string+"</textarea>";dom.close=function(){document.body.removeChild(dom.elmt);};dom.open=function(){dom.elmt.style.top=(document.body.scrollTop+100)+"px";document.body.appendChild(dom.elmt);dom.layer=SimileAjax.WindowManager.pushLayer(function(){dom.close();},false);var textarea=dom.textAreaContainer.firstChild;textarea.select();SimileAjax.WindowManager.registerEvent(dom.closeButton,"click",function(elmt,evt,target){SimileAjax.WindowManager.popLayer(dom.layer);SimileAjax.DOM.cancelEvent(evt);return false;},dom.layer);SimileAjax.WindowManager.registerEvent(textarea,"keyup",function(elmt,evt,target){if(evt.keyCode==27){SimileAjax.WindowManager.popLayer(dom.layer);SimileAjax.DOM.cancelEvent(evt);return false;}
return true;},dom.layer);};return dom;},createFocusDialogBox:function(itemID,exhibit,configuration){var template={tag:"div",className:"exhibit-focusDialog exhibit-ui-protection",children:[{tag:"div",className:"exhibit-focusDialog-viewContainer",field:"viewContainer"},{tag:"div",className:"exhibit-focusDialog-controls",children:[{tag:"button",field:"closeButton",children:[Exhibit.l10n.focusDialogBoxCloseButtonLabel]}]}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);dom.close=function(){document.body.removeChild(dom.elmt);};dom.open=function(){dom.layer=SimileAjax.WindowManager.pushLayer(function(){dom.close();},false);var lens=new Exhibit.Lens(itemID,dom.viewContainer,exhibit,configuration);dom.elmt.style.top=(document.body.scrollTop+100)+"px";document.body.appendChild(dom.elmt);SimileAjax.WindowManager.registerEvent(dom.closeButton,"click",function(elmt,evt,target){SimileAjax.WindowManager.popLayer(dom.layer);SimileAjax.DOM.cancelEvent(evt);return false;},dom.layer);};return dom;},createBusyIndicator:function(){var urlPrefix=Exhibit.Theme.urlPrefix;var containerDiv=document.createElement("div");if(SimileAjax.Graphics.pngIsTranslucent){var topDiv=document.createElement("div");topDiv.style.height="33px";topDiv.style.background="url("+urlPrefix+"images/message-top-left.png) top left no-repeat";topDiv.style.paddingLeft="44px";containerDiv.appendChild(topDiv);var topRightDiv=document.createElement("div");topRightDiv.style.height="33px";topRightDiv.style.background="url("+urlPrefix+"images/message-top-right.png) top right no-repeat";topDiv.appendChild(topRightDiv);var middleDiv=document.createElement("div");middleDiv.style.background="url("+urlPrefix+"images/message-left.png) top left repeat-y";middleDiv.style.paddingLeft="44px";containerDiv.appendChild(middleDiv);var middleRightDiv=document.createElement("div");middleRightDiv.style.background="url("+urlPrefix+"images/message-right.png) top right repeat-y";middleRightDiv.style.paddingRight="44px";middleDiv.appendChild(middleRightDiv);var contentDiv=document.createElement("div");middleRightDiv.appendChild(contentDiv);var bottomDiv=document.createElement("div");bottomDiv.style.height="55px";bottomDiv.style.background="url("+urlPrefix+"images/message-bottom-left.png) bottom left no-repeat";bottomDiv.style.paddingLeft="44px";containerDiv.appendChild(bottomDiv);var bottomRightDiv=document.createElement("div");bottomRightDiv.style.height="55px";bottomRightDiv.style.background="url("+urlPrefix+"images/message-bottom-right.png) bottom right no-repeat";bottomDiv.appendChild(bottomRightDiv);}else{containerDiv.style.border="2px solid #7777AA";containerDiv.style.padding="20px";containerDiv.style.background="white";SimileAjax.Graphics.setOpacity(containerDiv,90);var contentDiv=document.createElement("div");containerDiv.appendChild(contentDiv);}
containerDiv.className="exhibit-busyIndicator";contentDiv.className="exhibit-busyIndicator-content";var img=document.createElement("img");img.src=urlPrefix+"images/progress-running.gif";contentDiv.appendChild(img);contentDiv.appendChild(document.createTextNode(" "+Exhibit.l10n.busyIndicatorMessage));return containerDiv;}};

/* lens-theme.js */

Exhibit.Lens.theme={createEditButton:function(label){var button=document.createElement("button");button.className="exhibit-lens-editButton";button.innerHTML=label!=null?label:Exhibit.Lens.l10n.editButtonLabel;return button;},createSaveButton:function(label){var button=document.createElement("button");button.className="exhibit-lens-saveButton";button.innerHTML=label!=null?label:Exhibit.Lens.l10n.saveButtonLabel;return button;}}

/* list-facet-theme.js */

Exhibit.ListFacet.theme=new Object();Exhibit.ListFacet.theme.constructFacetFrame=function(exhibit,div,facetLabel,groupable,grouped,onGroup,onCollapseAll,onExpandAll,onClearAllSelections){var l10n=Exhibit.ListFacet.l10n;var template={elmt:div,className:"exhibit-facet-frame",style:{height:"1px"},children:[{tag:"div",className:"exhibit-facet",field:"innerFacetDiv",children:[{tag:"div",className:"exhibit-facet-header",children:[{tag:"div",className:"exhibit-facet-header-filterControl",field:"clearSelectionsDiv",title:l10n.clearSelectionsTooltip,children:["",{elmt:Exhibit.Theme.createTranslucentImage(document,"images/black-check-no-border.png")}]},{tag:"span",className:"exhibit-facet-header-title",children:[facetLabel]},{tag:"span",className:"exhibit-facet-header-details",children:[]}]},{tag:"div",className:"exhibit-facet-body-frame",children:[{tag:"div",className:"exhibit-facet-body",field:"valuesContainer"}]},{tag:"div",className:"exhibit-facet-footer",style:{display:groupable?"block":"none"},children:[{elmt:Exhibit.UI.makeActionLink(l10n.groupByLink,onGroup),field:"groupLink"},{tag:"span",field:"groupControlsSpan",style:{display:grouped?"inline":"none"},children:[" | ",{elmt:Exhibit.UI.makeActionLink(l10n.collapseLink,onCollapseAll),field:"collapseLink"}," | ",{elmt:Exhibit.UI.makeActionLink(l10n.expandLink,onExpandAll),field:"expandLink"}]}]},{tag:"div",className:"exhibit-facet-resizer",field:"resizerDiv",children:[{elmt:Exhibit.Theme.createTranslucentImage(document,"images/down-arrow.png")}]}]}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);dom.setSelectionCount=function(count){this.clearSelectionsDiv.firstChild.nodeValue=count;this.innerFacetDiv.className=count>0?"exhibit-facet exhibit-facet-hasSelection":"exhibit-facet";};dom.setGroupControlsVisible=function(visible){this.groupControlsSpan.style.display=visible?"inline":"none";};dom.open=function(){var facetDiv=div.firstChild;var f=function(current,step){if(step==0){div.style.overflow="visible";div.style.opacity=1;div.style.height="";}else{var height=facetDiv.offsetHeight;div.style.height=Math.floor(height*current/100)+"px";div.style.opacity=Math.round(current/10)/10;}};SimileAjax.Graphics.createAnimation(f,0,100,300).run();};dom.close=function(){var parentNode=div.parentNode;var height=div.offsetHeight;div.style.overflow="hidden";var f=function(current,step){if(step==0){parentNode.removeChild(div);}else{div.style.height=Math.floor(height*current/100)+"px";div.style.opacity=Math.round(current/10)/10;}};SimileAjax.Graphics.createAnimation(f,100,0,500).run();};SimileAjax.WindowManager.registerEvent(dom.clearSelectionsDiv,"click",onClearAllSelections);SimileAjax.WindowManager.registerForDragging(dom.resizerDiv,{onDragStart:function(){this._height=dom.valuesContainer.offsetHeight;},onDragBy:function(diffX,diffY){this._height+=diffY;var h=Math.max(50,this._height)+"px";dom.valuesContainer.style.height=h;dom.valuesContainer.style.maxHeight=h;},onDragEnd:function(){}});return dom;};Exhibit.ListFacet.theme.constructFacetItem=function(exhibit,label,count,level,selected,hasChildren,expanded,onSelect){var l10n=Exhibit.ListFacet.l10n;var classes=["exhibit-facet-value"];if(selected){classes.push("exhibit-facet-value-selected");}
if(hasChildren){classes.push("exhibit-facet-value-hasChildren");}
var template={tag:"div",className:classes.join(" "),title:label,children:[{tag:"div",className:"exhibit-facet-value-count",children:[count,{elmt:Exhibit.Theme.createTranslucentImage(document,"images/gray-check-no-border.png"),className:"exhibit-facet-grayCheck"},{elmt:Exhibit.Theme.createTranslucentImage(document,"images/no-check-no-border.png"),className:"exhibit-facet-noCheck"},{elmt:Exhibit.Theme.createTranslucentImage(document,"images/black-check-no-border.png"),className:"exhibit-facet-blackCheck"}]},]};if(hasChildren){template.children.push({tag:"div",className:"exhibit-facet-value-inner",field:"innerDiv",style:{marginLeft:((level+1)*16)+"px"},children:[{tag:"div",className:"exhibit-facet-value-groupControl "+
(expanded?"exhibit-facet-value-expanded":"exhibit-facet-value-collapsed"),title:l10n.toggleGroupTooltip,field:"groupControlDiv",children:[{elmt:Exhibit.Theme.createTranslucentImage(document,"images/expand.png"),className:"exhibit-facet-value-expandControl"},{elmt:Exhibit.Theme.createTranslucentImage(document,"images/collapse.png"),className:"exhibit-facet-value-collapseControl"}," "]},label]});}else{template.children.push({tag:"div",className:"exhibit-facet-value-inner",field:"innerDiv",style:{marginLeft:(level*16)+"px"},children:[label]});}
var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);dom.expanded=expanded;if(hasChildren){dom.expandGroup=function(){this.groupControlDiv.className="exhibit-facet-value-groupControl exhibit-facet-value-expanded";this.childrenContainer.style.display="block";this.expanded=true;};dom.collapseGroup=function(){this.groupControlDiv.className="exhibit-facet-value-groupControl exhibit-facet-value-collapsed";this.childrenContainer.style.display="none";this.expanded=false;};dom.toggleGroup=function(){if(this.expanded){this.collapseGroup();}else{this.expandGroup();}};SimileAjax.WindowManager.registerEvent(dom.groupControlDiv,"click",function(elmt,evt,target){dom.toggleGroup();SimileAjax.DOM.cancelEvent(evt);return false;},SimileAjax.WindowManager.getBaseLayer());}
SimileAjax.WindowManager.registerEvent(dom.elmt,"click",onSelect,SimileAjax.WindowManager.getBaseLayer());return dom;};Exhibit.ListFacet.theme.constructFacetChildrenContainer=function(exhibit,expanded){var elmt=document.createElement("div");elmt.className="exhibit-facet-value-children";if(!expanded){elmt.style.display="none";}
return elmt;};Exhibit.ListFacet.theme.constructGroupingBox=function(exhibit,alignLeft,onUngroupAll,onClose){var template={tag:"div",className:"exhibit-facet-groupBox "+
(alignLeft?"exhibit-facet-groupBox-left":"exhibit-facet-groupBox-right"),children:[{tag:"div",field:"groupsDiv"},{tag:"div",className:"exhibit-facet-groupBox-footer",field:"footerDiv",children:[{elmt:Exhibit.UI.makeActionLink(Exhibit.ListFacet.l10n.ungroupAllButton,onUngroupAll),field:"ungroupLink"}," | ",{elmt:Exhibit.UI.makeActionLink(Exhibit.ListFacet.l10n.closeButton,onClose),field:"closeLink"}]}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);dom.appendGroup=function(groupDom){dom.groupsDiv.appendChild(groupDom.elmt);};dom.clearGroups=function(){dom.groupsDiv.innerHTML="";};return dom;};Exhibit.ListFacet.theme.constructGroup=function(exhibit,first,grouped,onUngroup){var l10n=Exhibit.ListFacet.l10n;var template={tag:"div",className:"exhibit-facet-groupBox-group",children:[{tag:"div",className:"exhibit-facet-groupBox-groupHeader",children:[first?l10n.groupByLabel:l10n.groupTheGroupsByLabel,{elmt:Exhibit.UI.makeActionLink(Exhibit.ListFacet.l10n.ungroupLink,onUngroup),style:{display:grouped?"inline":"none"},field:"ungroupLink"}]},{tag:"div",className:"exhibit-facet-groupBox-groupBody",field:"bodyDiv"}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);dom.appendOption=function(optionDom){dom.bodyDiv.appendChild(optionDom.elmt);};return dom;};Exhibit.ListFacet.theme.constructGroupingOption=function(exhibit,label,selected,onSelect){var template={tag:"div",className:"exhibit-facet-groupBox-groupOption",children:[{elmt:Exhibit.Theme.createTranslucentImage(document,selected?"images/option-check.png":"images/option.png")}," "+label]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);SimileAjax.WindowManager.registerEvent(dom.elmt,"click",onSelect);return dom;};

/* map-view-theme.js */

Exhibit.MapView.theme=new Object();Exhibit.MapView.theme.constructDom=function(collection,exhibit,div,onClearFilters){var l10n=Exhibit.MapView.l10n;var template={elmt:div,children:[{tag:"div",className:"exhibit-collectionView-header",children:[{tag:"div",field:"noResultDiv",style:{display:"none"},children:Exhibit.ViewPanel.l10n.createNoResultsTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details")},{tag:"div",field:"resultsDiv",style:{display:"none"},children:[{elmt:Exhibit.ViewPanel.makeCopyAllButton(collection,exhibit.getDatabase()),style:{"float":"right"}},{tag:"div",children:Exhibit.ViewPanel.l10n.createResultsSummaryTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details",Exhibit.UI.makeActionLink(Exhibit.ViewPanel.l10n.resetFiltersLabel,onClearFilters))},{tag:"div",className:"exhibit-mapView-mappableDetails",field:"mappableDiv"}]}]},{tag:"div",className:"exhibit-mapView-mapContainer",children:[{tag:"div",className:"exhibit-mapView-map",field:"mapDiv"}]},{tag:"div",className:"exhibit-mapView-resizer",field:"resizerDiv",children:[{elmt:Exhibit.Theme.createTranslucentImage(document,"images/down-arrow.png")}]},{tag:"div",className:"exhibit-mapView-legend",field:"legendDiv"}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);dom.setCounts=function(resultsCount,mappableCount,originalCount){if(resultsCount==0){dom.noResultDiv.style.display="block";dom.resultsDiv.style.display="none";}else{dom.noResultDiv.style.display="none";dom.resultsDiv.style.display="block";}
if(originalCount!=resultsCount){dom.noFilterDetailsSpan.style.display="none";dom.filteredDetailsSpan.style.display="inline";}else{dom.noFilterDetailsSpan.style.display="inline";dom.filteredDetailsSpan.style.display="none";}
if(mappableCount!=resultsCount){dom.mappableDiv.style.display="block";dom.mappableDiv.innerHTML=l10n.formatMappableCount(mappableCount);}else{dom.mappableDiv.style.display="none";}
dom.itemCountSpan.innerHTML=resultsCount;dom.originalCountSpan.innerHTML=originalCount;};dom.setTypes=function(typeLabels){var typeLabel=(typeLabels.length>0&&typeLabels.length<=3)?Exhibit.l10n.composeListString(typeLabels):Exhibit.Database.l10n.itemType.pluralLabel;dom.typesSpan.innerHTML=typeLabel;};dom.getMapDiv=function(){return dom.mapDiv;};dom.clearLegend=function(){dom.legendDiv.innerHTML="<table cellspacing='10'><tr valign='top'></tr></table>";};dom.addLegendBlock=function(blockDom){var tr=dom.legendDiv.firstChild.rows[0];var td=tr.insertCell(tr.cells.length);td.appendChild(blockDom.elmt);};SimileAjax.WindowManager.registerForDragging(dom.resizerDiv,{onDragStart:function(){this._height=dom.mapDiv.offsetHeight;},onDragBy:function(diffX,diffY){this._height+=diffY;dom.mapDiv.style.height=Math.max(50,this._height)+"px";},onDragEnd:function(){dom.map.checkResize();}});return dom;};Exhibit.MapView.theme.constructLegendBlockDom=function(exhibit,title,icons,labels){var l10n=Exhibit.MapView.l10n;var template={tag:"div",className:"exhibit-mapView-legendBlock",children:[{tag:"div",className:"exhibit-mapView-legendBlock-title",children:[title]}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);for(var i=0;i<icons.length;i++){var div=document.createElement("div");div.className="exhibit-mapView-legendBlock-entry";div.appendChild(SimileAjax.Graphics.createTranslucentImage(document,icons[i]));div.appendChild(document.createTextNode(" "+labels[i]));dom.elmt.appendChild(div);}
return dom;}

/* ordered-view-frame-theme.js */

Exhibit.OrderedViewFrame.theme=new Object();Exhibit.OrderedViewFrame.theme.createHeaderDom=function(collection,exhibit,headerDiv,onClearFilters,onThenSortBy,onGroupToggle,onShowDuplicatesToggle,generatedContentElmtRetriever){var l10n=Exhibit.OrderedViewFrame.l10n;var headerTemplate={elmt:headerDiv,className:"exhibit-collectionView-header",children:[{tag:"div",field:"noResultDiv",style:{display:"none"},children:Exhibit.ViewPanel.l10n.createNoResultsTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details")},{tag:"div",field:"resultsDiv",style:{display:"none"},children:[{elmt:Exhibit.ViewPanel.makeCopyAllButton(collection,exhibit.getDatabase(),generatedContentElmtRetriever),style:{"float":"right"}},{tag:"div",children:Exhibit.ViewPanel.l10n.createResultsSummaryTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details",Exhibit.UI.makeActionLink(Exhibit.ViewPanel.l10n.resetFiltersLabel,onClearFilters))},{tag:"div",field:"sortControlsDiv",className:"exhibit-collectionView-header-sortControls",children:l10n.createSortingControlsTemplate(Exhibit.UI.makeActionLink(l10n.thenSortByLabel,onThenSortBy)).concat([" \u2022 ",{tag:"span",field:"groupSpan",className:"exhibit-collectionView-header-groupControls",children:[{elmt:Exhibit.Theme.createTranslucentImage(document,"images/option.png"),field:"groupOption",style:{display:"none"}},{elmt:Exhibit.Theme.createTranslucentImage(document,"images/option-check.png"),field:"groupOptionChecked",style:{display:"none"}}," ",l10n.groupedAsSorted]}," \u2022 ",{tag:"span",field:"duplicateSpan",className:"exhibit-collectionView-header-duplicateControls",children:[{elmt:Exhibit.Theme.createTranslucentImage(document,"images/option.png"),field:"duplicateOption",style:{display:"none"}},{elmt:Exhibit.Theme.createTranslucentImage(document,"images/option-check.png"),field:"duplicateOptionChecked",style:{display:"none"}}," ",l10n.showDuplicates]}])}]}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,headerTemplate);SimileAjax.WindowManager.registerEvent(dom.groupSpan,"click",onGroupToggle);SimileAjax.WindowManager.registerEvent(dom.duplicateSpan,"click",onShowDuplicatesToggle);dom.setCounts=function(resultsCount,originalCount){if(resultsCount==0){dom.noResultDiv.style.display="block";dom.resultsDiv.style.display="none";}else{dom.noResultDiv.style.display="none";dom.resultsDiv.style.display="block";}
if(originalCount!=resultsCount){dom.noFilterDetailsSpan.style.display="none";dom.filteredDetailsSpan.style.display="inline";}else{dom.noFilterDetailsSpan.style.display="inline";dom.filteredDetailsSpan.style.display="none";}
dom.itemCountSpan.innerHTML=resultsCount;dom.originalCountSpan.innerHTML=originalCount;dom.sortControlsDiv.style.display=(resultsCount==0)?"none":"block";};dom.setTypes=function(typeLabels){var typeLabel=(typeLabels.length>0&&typeLabels.length<=3)?Exhibit.l10n.composeListString(typeLabels):Exhibit.Database.l10n.itemType.pluralLabel;dom.typesSpan.innerHTML=typeLabel;};dom.setOrders=function(orderDoms){dom.ordersSpan.innerHTML="";var addDelimiter=Exhibit.l10n.createListDelimiter(dom.ordersSpan,orderDoms.length);for(var i=0;i<orderDoms.length;i++){addDelimiter();dom.ordersSpan.appendChild(orderDoms[i].elmt);}
addDelimiter();};dom.setGrouped=function(grouped){dom.groupOption.style.display=grouped?"none":"inline";dom.groupOptionChecked.style.display=grouped?"inline":"none";};dom.setShowDuplicates=function(show){dom.duplicateOption.style.display=show?"none":"inline";dom.duplicateOptionChecked.style.display=show?"inline":"none";};dom.enableThenByAction=function(enabled){Exhibit.UI.enableActionLink(dom.thenByLink,enabled);};return dom;};Exhibit.OrderedViewFrame.theme.createOrderDom=function(exhibit,label,onPopup){var a=Exhibit.UI.makeActionLink(label,onPopup);return{elmt:a};}
Exhibit.OrderedViewFrame.theme.createFooterDom=function(exhibit,footerDiv,onShowAll,onDontShowAll){var l10n=Exhibit.OrderedViewFrame.l10n;var footerTemplate={elmt:footerDiv,className:"exhibit-collectionView-footer screen",children:[]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,footerTemplate);dom.setCounts=function(count,limitCount,showAll,canToggle){dom.elmt.innerHTML="";if(canToggle&&count>limitCount){if(showAll){dom.elmt.appendChild(Exhibit.UI.makeActionLink(l10n.formatDontShowAll(limitCount),onDontShowAll));}else{dom.elmt.appendChild(Exhibit.UI.makeActionLink(l10n.formatShowAll(count),onShowAll));}}};return dom;}

/* scatter-plot-view-theme.js */

Exhibit.ScatterPlotView.theme=new Object();Exhibit.ScatterPlotView.theme.constructDom=function(collection,exhibit,div,onClearFilters){var l10n=Exhibit.ScatterPlotView.l10n;var template={elmt:div,children:[{tag:"div",className:"exhibit-collectionView-header",children:[{tag:"div",field:"noResultDiv",style:{display:"none"},children:Exhibit.ViewPanel.l10n.createNoResultsTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details")},{tag:"div",field:"resultsDiv",style:{display:"none"},children:[{elmt:Exhibit.ViewPanel.makeCopyAllButton(collection,exhibit.getDatabase()),style:{"float":"right"}},{tag:"div",children:Exhibit.ViewPanel.l10n.createResultsSummaryTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details",Exhibit.UI.makeActionLink(Exhibit.ViewPanel.l10n.resetFiltersLabel,onClearFilters))},{tag:"div",className:"exhibit-scatterPlotView-mappableDetails",field:"mappableDiv"}]}]},{tag:"div",field:"plotContainer",className:"exhibit-scatterPlotView-plotContainer"},{tag:"div",className:"exhibit-scatterPlotView-resizer",field:"resizerDiv",children:[{elmt:Exhibit.Theme.createTranslucentImage(document,"images/down-arrow.png")}]},{tag:"div",className:"exhibit-scatterPlotView-legend",field:"legendDiv"}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);dom.setCounts=function(resultsCount,mappableCount,originalCount){if(resultsCount==0){dom.noResultDiv.style.display="block";dom.resultsDiv.style.display="none";}else{dom.noResultDiv.style.display="none";dom.resultsDiv.style.display="block";}
if(originalCount!=resultsCount){dom.noFilterDetailsSpan.style.display="none";dom.filteredDetailsSpan.style.display="inline";}else{dom.noFilterDetailsSpan.style.display="inline";dom.filteredDetailsSpan.style.display="none";}
if(mappableCount!=resultsCount){dom.mappableDiv.style.display="block";dom.mappableDiv.innerHTML=l10n.formatMappableCount(mappableCount);}else{dom.mappableDiv.style.display="none";}
dom.itemCountSpan.innerHTML=resultsCount;dom.originalCountSpan.innerHTML=originalCount;};dom.setTypes=function(typeLabels){var typeLabel=(typeLabels.length>0&&typeLabels.length<=3)?Exhibit.l10n.composeListString(typeLabels):Exhibit.Database.l10n.itemType.pluralLabel;dom.typesSpan.innerHTML=typeLabel;};dom.clearLegend=function(){dom.legendDiv.innerHTML="<table cellspacing='10'><tr valign='top'></tr></table>";};dom.addLegendBlock=function(blockDom){var tr=dom.legendDiv.firstChild.rows[0];var td=tr.insertCell(tr.cells.length);td.appendChild(blockDom.elmt);};SimileAjax.WindowManager.registerForDragging(dom.resizerDiv,{onDragStart:function(){this._height=dom.plotContainer.offsetHeight;},onDragBy:function(diffX,diffY){this._height+=diffY;dom.plotContainer.style.height=Math.max(50,this._height)+"px";},onDragEnd:function(){}});return dom;};Exhibit.ScatterPlotView.theme.constructLegendBlockDom=function(exhibit,title,colors,labels){var l10n=Exhibit.ScatterPlotView.l10n;var template={tag:"div",className:"exhibit-scatterPlotView-legendBlock",children:[{tag:"div",className:"exhibit-scatterPlotView-legendBlock-title",children:[title]}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);for(var i=0;i<colors.length;i++){var div=document.createElement("div");div.className="exhibit-scatterPlotView-legendBlock-entry";var span=document.createElement("span");span.className="exhibit-scatterPlotView-legendBlock-colorBlob";span.style.backgroundColor=colors[i];span.innerHTML="&nbsp;";div.appendChild(span);div.appendChild(document.createTextNode(" "+labels[i]));dom.elmt.appendChild(div);}
return dom;}

/* tabular-view-theme.js */

Exhibit.TabularView.theme=new Object();Exhibit.TabularView.theme.createDom=function(collection,exhibit,div,onClearFilters){var l10n=Exhibit.TabularView.l10n;var headerTemplate={elmt:div,className:"exhibit-collectionView-header",children:[{tag:"div",field:"noResultDiv",style:{display:"none"},children:Exhibit.ViewPanel.l10n.createNoResultsTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details")},{tag:"div",field:"resultsDiv",style:{display:"none"},children:[{elmt:Exhibit.ViewPanel.makeCopyAllButton(collection,exhibit.getDatabase()),style:{"float":"right"}},{tag:"div",children:Exhibit.ViewPanel.l10n.createResultsSummaryTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details",Exhibit.UI.makeActionLink(Exhibit.ViewPanel.l10n.resetFiltersLabel,onClearFilters))}]},{tag:"div",field:"bodyDiv"}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,headerTemplate);dom.setCounts=function(resultsCount,originalCount){if(resultsCount==0){dom.noResultDiv.style.display="block";dom.resultsDiv.style.display="none";}else{dom.noResultDiv.style.display="none";dom.resultsDiv.style.display="block";}
if(originalCount!=resultsCount){dom.noFilterDetailsSpan.style.display="none";dom.filteredDetailsSpan.style.display="inline";}else{dom.noFilterDetailsSpan.style.display="inline";dom.filteredDetailsSpan.style.display="none";}
dom.itemCountSpan.innerHTML=resultsCount;dom.originalCountSpan.innerHTML=originalCount;};dom.setTypes=function(typeLabels){var typeLabel=(typeLabels.length>0&&typeLabels.length<=3)?Exhibit.l10n.composeListString(typeLabels):Exhibit.Database.l10n.itemType.pluralLabel;dom.typesSpan.innerHTML=typeLabel;};return dom;};Exhibit.TabularView.theme.createColumnHeader=function(exhibit,th,label,sort,sortAscending,sortFunction){var l10n=Exhibit.TabularView.l10n;var template={elmt:th,className:sort?"exhibit-tabularView-columnHeader-sorted":"exhibit-tabularView-columnHeader",title:sort?l10n.columnHeaderReSortTooltip:l10n.columnHeaderSortTooltip,children:[label]};if(sort){template.children.push({elmt:Exhibit.Theme.createTranslucentImage(document,sortAscending?"images/up-arrow.png":"images/down-arrow.png")});}
SimileAjax.WindowManager.registerEvent(th,"click",sortFunction,null);var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);return dom;};

/* thumbnail-view-theme.js */

Exhibit.ThumbnailView.theme=new Object();Exhibit.ThumbnailView.theme.constructGroup=function(exhibit,groupLevel,label){var l10n=Exhibit.ThumbnailView.l10n;var template={tag:"div",className:"exhibit-thumbnailView-group",children:[{tag:"h"+(groupLevel+1),children:[label,{tag:"span",className:"exhibit-collectionView-group-count",children:[" (",{tag:"span",field:"countSpan"},")"]}],field:"header"},{tag:"div",className:"exhibit-collectionView-group-content",field:"contentDiv"}]};return SimileAjax.DOM.createDOMFromTemplate(document,template);};Exhibit.ThumbnailView.theme.constructItemContainer=function(exhibit){var div=document.createElement("div");div.className="exhibit-thumbnailView-body";return div;};

/* tile-view-theme.js */

Exhibit.TileView.theme=new Object();Exhibit.TileView.theme.constructGroup=function(exhibit,groupLevel,label){var l10n=Exhibit.TileView.l10n;var template={tag:"div",className:"exhibit-collectionView-group",children:[{tag:"h"+(groupLevel+1),children:[label,{tag:"span",className:"exhibit-collectionView-group-count",children:[" (",{tag:"span",field:"countSpan"},")"]}],field:"header"},{tag:"div",className:"exhibit-collectionView-group-content",field:"contentDiv"}]};return SimileAjax.DOM.createDOMFromTemplate(document,template);};Exhibit.TileView.theme.constructTable=function(exhibit){var table=document.createElement("table");table.className="exhibit-tileView-body";return table;};

/* timeline-view-theme.js */

Exhibit.TimelineView.theme=new Object();Exhibit.TimelineView.theme.markers=[{color:"FF9000",textColor:"000000"},{color:"5D7CBA",textColor:"000000"},{color:"A97838",textColor:"000000"},{color:"8B9BBA",textColor:"000000"},{color:"BF955F",textColor:"000000"},{color:"003EBA",textColor:"FFFFFF"},{color:"29447B",textColor:"FFFFFF"},{color:"543C1C",textColor:"FFFFFF"}];Exhibit.TimelineView.theme.constructDom=function(collection,exhibit,div,onClearFilters,onRelayout){var l10n=Exhibit.TimelineView.l10n;var template={elmt:div,children:[{tag:"div",className:"exhibit-collectionView-header",children:[{tag:"div",field:"noResultDiv",style:{display:"none"},children:Exhibit.ViewPanel.l10n.createNoResultsTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details")},{tag:"div",field:"resultsDiv",style:{display:"none"},children:[{elmt:Exhibit.ViewPanel.makeCopyAllButton(collection,exhibit.getDatabase()),style:{"float":"right"}},{tag:"div",children:Exhibit.ViewPanel.l10n.createResultsSummaryTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details",Exhibit.UI.makeActionLink(Exhibit.ViewPanel.l10n.resetFiltersLabel,onClearFilters))},{tag:"div",className:"exhibit-timelineView-plottableDetails",field:"plottableDiv"}]}]},{tag:"div",className:"exhibit-timelineView-timelineContainer",children:[{tag:"div",className:"exhibit-timelineView-timeline",field:"timelineDiv"}]},{tag:"div",className:"exhibit-timelineView-resizer",field:"resizerDiv",children:[{elmt:Exhibit.Theme.createTranslucentImage(document,"images/down-arrow.png")}]},{tag:"div",className:"exhibit-timelineView-controls",children:[{tag:"button",field:"relayoutButton",children:[l10n.relayoutButtonLabel]}]},{tag:"div",className:"exhibit-timelineView-legend",field:"legendDiv"}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);SimileAjax.WindowManager.registerEvent(dom.relayoutButton,"click",onRelayout);dom.setCounts=function(resultsCount,plottableCount,originalCount){if(resultsCount==0){dom.noResultDiv.style.display="block";dom.resultsDiv.style.display="none";}else{dom.noResultDiv.style.display="none";dom.resultsDiv.style.display="block";}
if(originalCount!=resultsCount){dom.noFilterDetailsSpan.style.display="none";dom.filteredDetailsSpan.style.display="inline";}else{dom.noFilterDetailsSpan.style.display="inline";dom.filteredDetailsSpan.style.display="none";}
if(plottableCount!=resultsCount){dom.plottableDiv.style.display="block";dom.plottableDiv.innerHTML=l10n.formatMappableCount(plottableCount);}else{dom.plottableDiv.style.display="none";}
dom.itemCountSpan.innerHTML=resultsCount;dom.originalCountSpan.innerHTML=originalCount;};dom.setTypes=function(typeLabels){var typeLabel=(typeLabels.length>0&&typeLabels.length<=3)?Exhibit.l10n.composeListString(typeLabels):Exhibit.Database.l10n.itemType.pluralLabel;dom.typesSpan.innerHTML=typeLabel;};dom.getTimelineDiv=function(){return dom.timelineDiv;};dom.clearLegend=function(){dom.legendDiv.innerHTML="<table cellspacing='10'><tr valign='top'></tr></table>";};dom.addLegendBlock=function(blockDom){var tr=dom.legendDiv.firstChild.rows[0];var td=tr.insertCell(tr.cells.length);td.appendChild(blockDom.elmt);};SimileAjax.WindowManager.registerForDragging(dom.resizerDiv,{onDragStart:function(){this._height=dom.timelineDiv.offsetHeight;},onDragBy:function(diffX,diffY){this._height+=diffY;dom.timelineDiv.style.height=Math.max(50,this._height)+"px";},onDragEnd:function(){dom.timeline.layout();}});return dom;};Exhibit.TimelineView.theme.constructLegendBlockDom=function(exhibit,title,colors,labels){var l10n=Exhibit.TimelineView.l10n;var template={tag:"div",className:"exhibit-timelineView-legendBlock",children:[{tag:"div",className:"exhibit-timelineView-legendBlock-title",children:[title]}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);for(var i=0;i<colors.length;i++){var div=document.createElement("div");div.className="exhibit-timelineView-legendBlock-entry";div.style.color=colors[i];var span=document.createElement("span");span.className="exhibit-timelineView-legendBlock-swatch";span.style.background=colors[i];span.innerHTML="&nbsp;";div.appendChild(span);div.appendChild(document.createTextNode(" "+labels[i]));dom.elmt.appendChild(div);}
return dom;}

/* view-panel-theme.js */

Exhibit.ViewPanel.theme=new Object();Exhibit.ViewPanel.theme.constructDom=function(exhibit,div,viewLabels,viewTooltips,onSelectView){var l10n=Exhibit.ViewPanel.l10n;var template={elmt:div,className:"exhibit-viewPanel exhibit-ui-protection",children:[{tag:"div",className:"exhibit-viewPanel-viewSelection",field:"viewSelectionDiv"},{tag:"div",className:"exhibit-viewPanel-viewContainer",field:"viewContainerDiv"}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);dom.getViewContainer=function(){return dom.viewContainerDiv;};dom.setViewIndex=function(index){if(viewLabels.length>1){dom.viewSelectionDiv.innerHTML="";var appendView=function(i){var selected=(i==index);if(i>0){dom.viewSelectionDiv.appendChild(document.createTextNode(" \u2022 "));}
var span=document.createElement("span");span.className=selected?"exhibit-viewPanel-viewSelection-selectedView":"exhibit-viewPanel-viewSelection-view";span.title=viewTooltips[i];span.innerHTML=viewLabels[i];if(!selected){var handler=function(elmt,evt,target){onSelectView(i);SimileAjax.DOM.cancelEvent(evt);return false;}
SimileAjax.WindowManager.registerEvent(span,"click",handler);}
dom.viewSelectionDiv.appendChild(span);};for(var i=0;i<viewLabels.length;i++){appendView(i);}}};return dom;};

/* exhibit-theme.js */

Exhibit.Theme={urlPrefix:Exhibit.urlPrefix+"themes/classic/",createTranslucentImage:function(doc,url){return SimileAjax.Graphics.createTranslucentImage(doc,Exhibit.Theme.urlPrefix+url);},createPopupMenuDom:function(element){var div=document.createElement("div");div.className="exhibit-menu-popup exhibit-ui-protection";var dom={elmt:div,close:function(){document.body.removeChild(this.elmt);},open:function(){var self=this;this.layer=SimileAjax.WindowManager.pushLayer(function(){self.close();},true);var docWidth=document.body.offsetWidth;var docHeight=document.body.offsetHeight;var coords=SimileAjax.DOM.getPageCoordinates(element);div.style.top=(coords.top+element.scrollHeight)+"px";div.style.right=(docWidth-(coords.left+element.scrollWidth))+"px";document.body.appendChild(this.elmt);},appendMenuItem:function(label,icon,onClick){var self=this;var a=document.createElement("a");a.className="exhibit-menu-item";a.href="javascript:";SimileAjax.WindowManager.registerEvent(a,"click",function(elmt,evt,target){onClick(elmt,evt,target);SimileAjax.WindowManager.popLayer(self.layer);SimileAjax.DOM.cancelEvent(evt);return false;});var div=document.createElement("div");a.appendChild(div);div.appendChild(SimileAjax.Graphics.createTranslucentImage(document,icon!=null?icon:(Exhibit.Theme.urlPrefix+"images/blank-16x16.png")));div.appendChild(document.createTextNode(label));this.elmt.appendChild(a);},appendSeparator:function(){var hr=document.createElement("hr");this.elmt.appendChild(hr);}};return dom;},createCopyButton:function(all){var button=document.createElement("button");button.className="exhibit-copyButton screen";button.innerHTML=all?Exhibit.l10n.copyAllButtonLabel:Exhibit.l10n.copyButtonLabel;return button;},createCopyDialogBox:function(string){var template={tag:"div",className:"exhibit-copyDialog exhibit-ui-protection",children:[{tag:"button",field:"closeButton",children:[Exhibit.l10n.copyDialogBoxCloseButtonLabel]},{tag:"p",children:[Exhibit.l10n.copyDialogBoxPrompt]},{tag:"div",field:"textAreaContainer"}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);dom.textAreaContainer.innerHTML="<textarea wrap='off' rows='15'>"+string+"</textarea>";dom.close=function(){document.body.removeChild(dom.elmt);};dom.open=function(){dom.elmt.style.top=(document.body.scrollTop+100)+"px";document.body.appendChild(dom.elmt);dom.layer=SimileAjax.WindowManager.pushLayer(function(){dom.close();},false);var textarea=dom.textAreaContainer.firstChild;textarea.select();SimileAjax.WindowManager.registerEvent(dom.closeButton,"click",function(elmt,evt,target){SimileAjax.WindowManager.popLayer(dom.layer);SimileAjax.DOM.cancelEvent(evt);return false;},dom.layer);SimileAjax.WindowManager.registerEvent(textarea,"keyup",function(elmt,evt,target){if(evt.keyCode==27){SimileAjax.WindowManager.popLayer(dom.layer);SimileAjax.DOM.cancelEvent(evt);return false;}
return true;},dom.layer);};return dom;},createFocusDialogBox:function(itemID,exhibit,configuration){var template={tag:"div",className:"exhibit-focusDialog exhibit-ui-protection",children:[{tag:"div",className:"exhibit-focusDialog-viewContainer",field:"viewContainer"},{tag:"div",className:"exhibit-focusDialog-controls",children:[{tag:"button",field:"closeButton",children:[Exhibit.l10n.focusDialogBoxCloseButtonLabel]}]}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);dom.close=function(){document.body.removeChild(dom.elmt);};dom.open=function(){dom.layer=SimileAjax.WindowManager.pushLayer(function(){dom.close();},false);var lens=new Exhibit.Lens(itemID,dom.viewContainer,exhibit,configuration);dom.elmt.style.top=(document.body.scrollTop+100)+"px";document.body.appendChild(dom.elmt);SimileAjax.WindowManager.registerEvent(dom.closeButton,"click",function(elmt,evt,target){SimileAjax.WindowManager.popLayer(dom.layer);SimileAjax.DOM.cancelEvent(evt);return false;},dom.layer);};return dom;},createBusyIndicator:function(){var urlPrefix=Exhibit.Theme.urlPrefix;var containerDiv=document.createElement("div");if(SimileAjax.Graphics.pngIsTranslucent){var topDiv=document.createElement("div");topDiv.style.height="33px";topDiv.style.background="url("+urlPrefix+"images/message-top-left.png) top left no-repeat";topDiv.style.paddingLeft="44px";containerDiv.appendChild(topDiv);var topRightDiv=document.createElement("div");topRightDiv.style.height="33px";topRightDiv.style.background="url("+urlPrefix+"images/message-top-right.png) top right no-repeat";topDiv.appendChild(topRightDiv);var middleDiv=document.createElement("div");middleDiv.style.background="url("+urlPrefix+"images/message-left.png) top left repeat-y";middleDiv.style.paddingLeft="44px";containerDiv.appendChild(middleDiv);var middleRightDiv=document.createElement("div");middleRightDiv.style.background="url("+urlPrefix+"images/message-right.png) top right repeat-y";middleRightDiv.style.paddingRight="44px";middleDiv.appendChild(middleRightDiv);var contentDiv=document.createElement("div");middleRightDiv.appendChild(contentDiv);var bottomDiv=document.createElement("div");bottomDiv.style.height="55px";bottomDiv.style.background="url("+urlPrefix+"images/message-bottom-left.png) bottom left no-repeat";bottomDiv.style.paddingLeft="44px";containerDiv.appendChild(bottomDiv);var bottomRightDiv=document.createElement("div");bottomRightDiv.style.height="55px";bottomRightDiv.style.background="url("+urlPrefix+"images/message-bottom-right.png) bottom right no-repeat";bottomDiv.appendChild(bottomRightDiv);}else{containerDiv.style.border="2px solid #7777AA";containerDiv.style.padding="20px";containerDiv.style.background="white";SimileAjax.Graphics.setOpacity(containerDiv,90);var contentDiv=document.createElement("div");containerDiv.appendChild(contentDiv);}
containerDiv.className="exhibit-busyIndicator";contentDiv.className="exhibit-busyIndicator-content";var img=document.createElement("img");img.src=urlPrefix+"images/progress-running.gif";contentDiv.appendChild(img);contentDiv.appendChild(document.createTextNode(" "+Exhibit.l10n.busyIndicatorMessage));return containerDiv;}};

/* lens-theme.js */

Exhibit.Lens.theme={createEditButton:function(label){var button=document.createElement("button");button.className="exhibit-lens-editButton";button.innerHTML=label!=null?label:Exhibit.Lens.l10n.editButtonLabel;return button;},createSaveButton:function(label){var button=document.createElement("button");button.className="exhibit-lens-saveButton";button.innerHTML=label!=null?label:Exhibit.Lens.l10n.saveButtonLabel;return button;}}

/* list-facet-theme.js */

Exhibit.ListFacet.theme=new Object();Exhibit.ListFacet.theme.constructFacetFrame=function(exhibit,div,facetLabel,groupable,grouped,onGroup,onCollapseAll,onExpandAll,onClearAllSelections){var l10n=Exhibit.ListFacet.l10n;var template={elmt:div,className:"exhibit-facet-frame",style:{height:"1px"},children:[{tag:"div",className:"exhibit-facet",field:"innerFacetDiv",children:[{tag:"div",className:"exhibit-facet-header",children:[{tag:"div",className:"exhibit-facet-header-filterControl",field:"clearSelectionsDiv",title:l10n.clearSelectionsTooltip,children:["",{elmt:Exhibit.Theme.createTranslucentImage(document,"images/black-check-no-border.png")}]},{tag:"span",className:"exhibit-facet-header-title",children:[facetLabel]},{tag:"span",className:"exhibit-facet-header-details",children:[]}]},{tag:"div",className:"exhibit-facet-body-frame",children:[{tag:"div",className:"exhibit-facet-body",field:"valuesContainer"}]},{tag:"div",className:"exhibit-facet-footer",style:{display:groupable?"block":"none"},children:[{elmt:Exhibit.UI.makeActionLink(l10n.groupByLink,onGroup),field:"groupLink"},{tag:"span",field:"groupControlsSpan",style:{display:grouped?"inline":"none"},children:[" | ",{elmt:Exhibit.UI.makeActionLink(l10n.collapseLink,onCollapseAll),field:"collapseLink"}," | ",{elmt:Exhibit.UI.makeActionLink(l10n.expandLink,onExpandAll),field:"expandLink"}]}]},{tag:"div",className:"exhibit-facet-resizer",field:"resizerDiv",children:[{elmt:Exhibit.Theme.createTranslucentImage(document,"images/down-arrow.png")}]}]}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);dom.setSelectionCount=function(count){this.clearSelectionsDiv.firstChild.nodeValue=count;this.innerFacetDiv.className=count>0?"exhibit-facet exhibit-facet-hasSelection":"exhibit-facet";};dom.setGroupControlsVisible=function(visible){this.groupControlsSpan.style.display=visible?"inline":"none";};dom.open=function(){var facetDiv=div.firstChild;var f=function(current,step){if(step==0){div.style.overflow="visible";div.style.opacity=1;div.style.height="";}else{var height=facetDiv.offsetHeight;div.style.height=Math.floor(height*current/100)+"px";div.style.opacity=Math.round(current/10)/10;}};SimileAjax.Graphics.createAnimation(f,0,100,300).run();};dom.close=function(){var parentNode=div.parentNode;var height=div.offsetHeight;div.style.overflow="hidden";var f=function(current,step){if(step==0){parentNode.removeChild(div);}else{div.style.height=Math.floor(height*current/100)+"px";div.style.opacity=Math.round(current/10)/10;}};SimileAjax.Graphics.createAnimation(f,100,0,500).run();};SimileAjax.WindowManager.registerEvent(dom.clearSelectionsDiv,"click",onClearAllSelections);SimileAjax.WindowManager.registerForDragging(dom.resizerDiv,{onDragStart:function(){this._height=dom.valuesContainer.offsetHeight;},onDragBy:function(diffX,diffY){this._height+=diffY;var h=Math.max(50,this._height)+"px";dom.valuesContainer.style.height=h;dom.valuesContainer.style.maxHeight=h;},onDragEnd:function(){}});return dom;};Exhibit.ListFacet.theme.constructFacetItem=function(exhibit,label,count,level,selected,hasChildren,expanded,onSelect){var l10n=Exhibit.ListFacet.l10n;var classes=["exhibit-facet-value"];if(selected){classes.push("exhibit-facet-value-selected");}
if(hasChildren){classes.push("exhibit-facet-value-hasChildren");}
var template={tag:"div",className:classes.join(" "),title:label,children:[{tag:"div",className:"exhibit-facet-value-count",children:[count,{elmt:Exhibit.Theme.createTranslucentImage(document,"images/gray-check-no-border.png"),className:"exhibit-facet-grayCheck"},{elmt:Exhibit.Theme.createTranslucentImage(document,"images/no-check-no-border.png"),className:"exhibit-facet-noCheck"},{elmt:Exhibit.Theme.createTranslucentImage(document,"images/black-check-no-border.png"),className:"exhibit-facet-blackCheck"}]},]};if(hasChildren){template.children.push({tag:"div",className:"exhibit-facet-value-inner",field:"innerDiv",style:{marginLeft:((level+1)*16)+"px"},children:[{tag:"div",className:"exhibit-facet-value-groupControl "+
(expanded?"exhibit-facet-value-expanded":"exhibit-facet-value-collapsed"),title:l10n.toggleGroupTooltip,field:"groupControlDiv",children:[{elmt:Exhibit.Theme.createTranslucentImage(document,"images/expand.png"),className:"exhibit-facet-value-expandControl"},{elmt:Exhibit.Theme.createTranslucentImage(document,"images/collapse.png"),className:"exhibit-facet-value-collapseControl"}," "]},label]});}else{template.children.push({tag:"div",className:"exhibit-facet-value-inner",field:"innerDiv",style:{marginLeft:(level*16)+"px"},children:[label]});}
var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);dom.expanded=expanded;if(hasChildren){dom.expandGroup=function(){this.groupControlDiv.className="exhibit-facet-value-groupControl exhibit-facet-value-expanded";this.childrenContainer.style.display="block";this.expanded=true;};dom.collapseGroup=function(){this.groupControlDiv.className="exhibit-facet-value-groupControl exhibit-facet-value-collapsed";this.childrenContainer.style.display="none";this.expanded=false;};dom.toggleGroup=function(){if(this.expanded){this.collapseGroup();}else{this.expandGroup();}};SimileAjax.WindowManager.registerEvent(dom.groupControlDiv,"click",function(elmt,evt,target){dom.toggleGroup();SimileAjax.DOM.cancelEvent(evt);return false;},SimileAjax.WindowManager.getBaseLayer());}
SimileAjax.WindowManager.registerEvent(dom.elmt,"click",onSelect,SimileAjax.WindowManager.getBaseLayer());return dom;};Exhibit.ListFacet.theme.constructFacetChildrenContainer=function(exhibit,expanded){var elmt=document.createElement("div");elmt.className="exhibit-facet-value-children";if(!expanded){elmt.style.display="none";}
return elmt;};Exhibit.ListFacet.theme.constructGroupingBox=function(exhibit,alignLeft,onUngroupAll,onClose){var template={tag:"div",className:"exhibit-facet-groupBox "+
(alignLeft?"exhibit-facet-groupBox-left":"exhibit-facet-groupBox-right"),children:[{tag:"div",field:"groupsDiv"},{tag:"div",className:"exhibit-facet-groupBox-footer",field:"footerDiv",children:[{elmt:Exhibit.UI.makeActionLink(Exhibit.ListFacet.l10n.ungroupAllButton,onUngroupAll),field:"ungroupLink"}," | ",{elmt:Exhibit.UI.makeActionLink(Exhibit.ListFacet.l10n.closeButton,onClose),field:"closeLink"}]}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);dom.appendGroup=function(groupDom){dom.groupsDiv.appendChild(groupDom.elmt);};dom.clearGroups=function(){dom.groupsDiv.innerHTML="";};return dom;};Exhibit.ListFacet.theme.constructGroup=function(exhibit,first,grouped,onUngroup){var l10n=Exhibit.ListFacet.l10n;var template={tag:"div",className:"exhibit-facet-groupBox-group",children:[{tag:"div",className:"exhibit-facet-groupBox-groupHeader",children:[first?l10n.groupByLabel:l10n.groupTheGroupsByLabel,{elmt:Exhibit.UI.makeActionLink(Exhibit.ListFacet.l10n.ungroupLink,onUngroup),style:{display:grouped?"inline":"none"},field:"ungroupLink"}]},{tag:"div",className:"exhibit-facet-groupBox-groupBody",field:"bodyDiv"}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);dom.appendOption=function(optionDom){dom.bodyDiv.appendChild(optionDom.elmt);};return dom;};Exhibit.ListFacet.theme.constructGroupingOption=function(exhibit,label,selected,onSelect){var template={tag:"div",className:"exhibit-facet-groupBox-groupOption",children:[{elmt:Exhibit.Theme.createTranslucentImage(document,selected?"images/option-check.png":"images/option.png")}," "+label]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);SimileAjax.WindowManager.registerEvent(dom.elmt,"click",onSelect);return dom;};

/* map-view-theme.js */

Exhibit.MapView.theme=new Object();Exhibit.MapView.theme.constructDom=function(collection,exhibit,div,onClearFilters){var l10n=Exhibit.MapView.l10n;var template={elmt:div,children:[{tag:"div",className:"exhibit-collectionView-header",children:[{tag:"div",field:"noResultDiv",style:{display:"none"},children:Exhibit.ViewPanel.l10n.createNoResultsTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details")},{tag:"div",field:"resultsDiv",style:{display:"none"},children:[{elmt:Exhibit.ViewPanel.makeCopyAllButton(collection,exhibit.getDatabase()),style:{"float":"right"}},{tag:"div",children:Exhibit.ViewPanel.l10n.createResultsSummaryTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details",Exhibit.UI.makeActionLink(Exhibit.ViewPanel.l10n.resetFiltersLabel,onClearFilters))},{tag:"div",className:"exhibit-mapView-mappableDetails",field:"mappableDiv"}]}]},{tag:"div",className:"exhibit-mapView-mapContainer",children:[{tag:"div",className:"exhibit-mapView-map",field:"mapDiv"}]},{tag:"div",className:"exhibit-mapView-resizer",field:"resizerDiv",children:[{elmt:Exhibit.Theme.createTranslucentImage(document,"images/down-arrow.png")}]},{tag:"div",className:"exhibit-mapView-legend",field:"legendDiv"}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);dom.setCounts=function(resultsCount,mappableCount,originalCount){if(resultsCount==0){dom.noResultDiv.style.display="block";dom.resultsDiv.style.display="none";}else{dom.noResultDiv.style.display="none";dom.resultsDiv.style.display="block";}
if(originalCount!=resultsCount){dom.noFilterDetailsSpan.style.display="none";dom.filteredDetailsSpan.style.display="inline";}else{dom.noFilterDetailsSpan.style.display="inline";dom.filteredDetailsSpan.style.display="none";}
if(mappableCount!=resultsCount){dom.mappableDiv.style.display="block";dom.mappableDiv.innerHTML=l10n.formatMappableCount(mappableCount);}else{dom.mappableDiv.style.display="none";}
dom.itemCountSpan.innerHTML=resultsCount;dom.originalCountSpan.innerHTML=originalCount;};dom.setTypes=function(typeLabels){var typeLabel=(typeLabels.length>0&&typeLabels.length<=3)?Exhibit.l10n.composeListString(typeLabels):Exhibit.Database.l10n.itemType.pluralLabel;dom.typesSpan.innerHTML=typeLabel;};dom.getMapDiv=function(){return dom.mapDiv;};dom.clearLegend=function(){dom.legendDiv.innerHTML="<table cellspacing='10'><tr valign='top'></tr></table>";};dom.addLegendBlock=function(blockDom){var tr=dom.legendDiv.firstChild.rows[0];var td=tr.insertCell(tr.cells.length);td.appendChild(blockDom.elmt);};SimileAjax.WindowManager.registerForDragging(dom.resizerDiv,{onDragStart:function(){this._height=dom.mapDiv.offsetHeight;},onDragBy:function(diffX,diffY){this._height+=diffY;dom.mapDiv.style.height=Math.max(50,this._height)+"px";},onDragEnd:function(){dom.map.checkResize();}});return dom;};Exhibit.MapView.theme.constructLegendBlockDom=function(exhibit,title,icons,labels){var l10n=Exhibit.MapView.l10n;var template={tag:"div",className:"exhibit-mapView-legendBlock",children:[{tag:"div",className:"exhibit-mapView-legendBlock-title",children:[title]}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);for(var i=0;i<icons.length;i++){var div=document.createElement("div");div.className="exhibit-mapView-legendBlock-entry";div.appendChild(SimileAjax.Graphics.createTranslucentImage(document,icons[i]));div.appendChild(document.createTextNode(" "+labels[i]));dom.elmt.appendChild(div);}
return dom;}

/* ordered-view-frame-theme.js */

Exhibit.OrderedViewFrame.theme=new Object();Exhibit.OrderedViewFrame.theme.createHeaderDom=function(collection,exhibit,headerDiv,onClearFilters,onThenSortBy,onGroupToggle,onShowDuplicatesToggle,generatedContentElmtRetriever){var l10n=Exhibit.OrderedViewFrame.l10n;var headerTemplate={elmt:headerDiv,className:"exhibit-collectionView-header",children:[{tag:"div",field:"noResultDiv",style:{display:"none"},children:Exhibit.ViewPanel.l10n.createNoResultsTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details")},{tag:"div",field:"resultsDiv",style:{display:"none"},children:[{elmt:Exhibit.ViewPanel.makeCopyAllButton(collection,exhibit.getDatabase(),generatedContentElmtRetriever),style:{"float":"right"}},{tag:"div",children:Exhibit.ViewPanel.l10n.createResultsSummaryTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details",Exhibit.UI.makeActionLink(Exhibit.ViewPanel.l10n.resetFiltersLabel,onClearFilters))},{tag:"div",field:"sortControlsDiv",className:"exhibit-collectionView-header-sortControls",children:l10n.createSortingControlsTemplate(Exhibit.UI.makeActionLink(l10n.thenSortByLabel,onThenSortBy)).concat([" \u2022 ",{tag:"span",field:"groupSpan",className:"exhibit-collectionView-header-groupControls",children:[{elmt:Exhibit.Theme.createTranslucentImage(document,"images/option.png"),field:"groupOption",style:{display:"none"}},{elmt:Exhibit.Theme.createTranslucentImage(document,"images/option-check.png"),field:"groupOptionChecked",style:{display:"none"}}," ",l10n.groupedAsSorted]}," \u2022 ",{tag:"span",field:"duplicateSpan",className:"exhibit-collectionView-header-duplicateControls",children:[{elmt:Exhibit.Theme.createTranslucentImage(document,"images/option.png"),field:"duplicateOption",style:{display:"none"}},{elmt:Exhibit.Theme.createTranslucentImage(document,"images/option-check.png"),field:"duplicateOptionChecked",style:{display:"none"}}," ",l10n.showDuplicates]}])}]}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,headerTemplate);SimileAjax.WindowManager.registerEvent(dom.groupSpan,"click",onGroupToggle);SimileAjax.WindowManager.registerEvent(dom.duplicateSpan,"click",onShowDuplicatesToggle);dom.setCounts=function(resultsCount,originalCount){if(resultsCount==0){dom.noResultDiv.style.display="block";dom.resultsDiv.style.display="none";}else{dom.noResultDiv.style.display="none";dom.resultsDiv.style.display="block";}
if(originalCount!=resultsCount){dom.noFilterDetailsSpan.style.display="none";dom.filteredDetailsSpan.style.display="inline";}else{dom.noFilterDetailsSpan.style.display="inline";dom.filteredDetailsSpan.style.display="none";}
dom.itemCountSpan.innerHTML=resultsCount;dom.originalCountSpan.innerHTML=originalCount;dom.sortControlsDiv.style.display=(resultsCount==0)?"none":"block";};dom.setTypes=function(typeLabels){var typeLabel=(typeLabels.length>0&&typeLabels.length<=3)?Exhibit.l10n.composeListString(typeLabels):Exhibit.Database.l10n.itemType.pluralLabel;dom.typesSpan.innerHTML=typeLabel;};dom.setOrders=function(orderDoms){dom.ordersSpan.innerHTML="";var addDelimiter=Exhibit.l10n.createListDelimiter(dom.ordersSpan,orderDoms.length);for(var i=0;i<orderDoms.length;i++){addDelimiter();dom.ordersSpan.appendChild(orderDoms[i].elmt);}
addDelimiter();};dom.setGrouped=function(grouped){dom.groupOption.style.display=grouped?"none":"inline";dom.groupOptionChecked.style.display=grouped?"inline":"none";};dom.setShowDuplicates=function(show){dom.duplicateOption.style.display=show?"none":"inline";dom.duplicateOptionChecked.style.display=show?"inline":"none";};dom.enableThenByAction=function(enabled){Exhibit.UI.enableActionLink(dom.thenByLink,enabled);};return dom;};Exhibit.OrderedViewFrame.theme.createOrderDom=function(exhibit,label,onPopup){var a=Exhibit.UI.makeActionLink(label,onPopup);return{elmt:a};}
Exhibit.OrderedViewFrame.theme.createFooterDom=function(exhibit,footerDiv,onShowAll,onDontShowAll){var l10n=Exhibit.OrderedViewFrame.l10n;var footerTemplate={elmt:footerDiv,className:"exhibit-collectionView-footer screen",children:[]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,footerTemplate);dom.setCounts=function(count,limitCount,showAll,canToggle){dom.elmt.innerHTML="";if(canToggle&&count>limitCount){if(showAll){dom.elmt.appendChild(Exhibit.UI.makeActionLink(l10n.formatDontShowAll(limitCount),onDontShowAll));}else{dom.elmt.appendChild(Exhibit.UI.makeActionLink(l10n.formatShowAll(count),onShowAll));}}};return dom;}

/* scatter-plot-view-theme.js */

Exhibit.ScatterPlotView.theme=new Object();Exhibit.ScatterPlotView.theme.constructDom=function(collection,exhibit,div,onClearFilters){var l10n=Exhibit.ScatterPlotView.l10n;var template={elmt:div,children:[{tag:"div",className:"exhibit-collectionView-header",children:[{tag:"div",field:"noResultDiv",style:{display:"none"},children:Exhibit.ViewPanel.l10n.createNoResultsTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details")},{tag:"div",field:"resultsDiv",style:{display:"none"},children:[{elmt:Exhibit.ViewPanel.makeCopyAllButton(collection,exhibit.getDatabase()),style:{"float":"right"}},{tag:"div",children:Exhibit.ViewPanel.l10n.createResultsSummaryTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details",Exhibit.UI.makeActionLink(Exhibit.ViewPanel.l10n.resetFiltersLabel,onClearFilters))},{tag:"div",className:"exhibit-scatterPlotView-mappableDetails",field:"mappableDiv"}]}]},{tag:"div",field:"plotContainer",className:"exhibit-scatterPlotView-plotContainer"},{tag:"div",className:"exhibit-scatterPlotView-resizer",field:"resizerDiv",children:[{elmt:Exhibit.Theme.createTranslucentImage(document,"images/down-arrow.png")}]},{tag:"div",className:"exhibit-scatterPlotView-legend",field:"legendDiv"}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);dom.setCounts=function(resultsCount,mappableCount,originalCount){if(resultsCount==0){dom.noResultDiv.style.display="block";dom.resultsDiv.style.display="none";}else{dom.noResultDiv.style.display="none";dom.resultsDiv.style.display="block";}
if(originalCount!=resultsCount){dom.noFilterDetailsSpan.style.display="none";dom.filteredDetailsSpan.style.display="inline";}else{dom.noFilterDetailsSpan.style.display="inline";dom.filteredDetailsSpan.style.display="none";}
if(mappableCount!=resultsCount){dom.mappableDiv.style.display="block";dom.mappableDiv.innerHTML=l10n.formatMappableCount(mappableCount);}else{dom.mappableDiv.style.display="none";}
dom.itemCountSpan.innerHTML=resultsCount;dom.originalCountSpan.innerHTML=originalCount;};dom.setTypes=function(typeLabels){var typeLabel=(typeLabels.length>0&&typeLabels.length<=3)?Exhibit.l10n.composeListString(typeLabels):Exhibit.Database.l10n.itemType.pluralLabel;dom.typesSpan.innerHTML=typeLabel;};dom.clearLegend=function(){dom.legendDiv.innerHTML="<table cellspacing='10'><tr valign='top'></tr></table>";};dom.addLegendBlock=function(blockDom){var tr=dom.legendDiv.firstChild.rows[0];var td=tr.insertCell(tr.cells.length);td.appendChild(blockDom.elmt);};SimileAjax.WindowManager.registerForDragging(dom.resizerDiv,{onDragStart:function(){this._height=dom.plotContainer.offsetHeight;},onDragBy:function(diffX,diffY){this._height+=diffY;dom.plotContainer.style.height=Math.max(50,this._height)+"px";},onDragEnd:function(){}});return dom;};Exhibit.ScatterPlotView.theme.constructLegendBlockDom=function(exhibit,title,colors,labels){var l10n=Exhibit.ScatterPlotView.l10n;var template={tag:"div",className:"exhibit-scatterPlotView-legendBlock",children:[{tag:"div",className:"exhibit-scatterPlotView-legendBlock-title",children:[title]}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);for(var i=0;i<colors.length;i++){var div=document.createElement("div");div.className="exhibit-scatterPlotView-legendBlock-entry";var span=document.createElement("span");span.className="exhibit-scatterPlotView-legendBlock-colorBlob";span.style.backgroundColor=colors[i];span.innerHTML="&nbsp;";div.appendChild(span);div.appendChild(document.createTextNode(" "+labels[i]));dom.elmt.appendChild(div);}
return dom;}

/* tabular-view-theme.js */

Exhibit.TabularView.theme=new Object();Exhibit.TabularView.theme.createDom=function(collection,exhibit,div,onClearFilters){var l10n=Exhibit.TabularView.l10n;var headerTemplate={elmt:div,className:"exhibit-collectionView-header",children:[{tag:"div",field:"noResultDiv",style:{display:"none"},children:Exhibit.ViewPanel.l10n.createNoResultsTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details")},{tag:"div",field:"resultsDiv",style:{display:"none"},children:[{elmt:Exhibit.ViewPanel.makeCopyAllButton(collection,exhibit.getDatabase()),style:{"float":"right"}},{tag:"div",children:Exhibit.ViewPanel.l10n.createResultsSummaryTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details",Exhibit.UI.makeActionLink(Exhibit.ViewPanel.l10n.resetFiltersLabel,onClearFilters))}]},{tag:"div",field:"bodyDiv"}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,headerTemplate);dom.setCounts=function(resultsCount,originalCount){if(resultsCount==0){dom.noResultDiv.style.display="block";dom.resultsDiv.style.display="none";}else{dom.noResultDiv.style.display="none";dom.resultsDiv.style.display="block";}
if(originalCount!=resultsCount){dom.noFilterDetailsSpan.style.display="none";dom.filteredDetailsSpan.style.display="inline";}else{dom.noFilterDetailsSpan.style.display="inline";dom.filteredDetailsSpan.style.display="none";}
dom.itemCountSpan.innerHTML=resultsCount;dom.originalCountSpan.innerHTML=originalCount;};dom.setTypes=function(typeLabels){var typeLabel=(typeLabels.length>0&&typeLabels.length<=3)?Exhibit.l10n.composeListString(typeLabels):Exhibit.Database.l10n.itemType.pluralLabel;dom.typesSpan.innerHTML=typeLabel;};return dom;};Exhibit.TabularView.theme.createColumnHeader=function(exhibit,th,label,sort,sortAscending,sortFunction){var l10n=Exhibit.TabularView.l10n;var template={elmt:th,className:sort?"exhibit-tabularView-columnHeader-sorted":"exhibit-tabularView-columnHeader",title:sort?l10n.columnHeaderReSortTooltip:l10n.columnHeaderSortTooltip,children:[label]};if(sort){template.children.push({elmt:Exhibit.Theme.createTranslucentImage(document,sortAscending?"images/up-arrow.png":"images/down-arrow.png")});}
SimileAjax.WindowManager.registerEvent(th,"click",sortFunction,null);var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);return dom;};

/* thumbnail-view-theme.js */

Exhibit.ThumbnailView.theme=new Object();Exhibit.ThumbnailView.theme.constructGroup=function(exhibit,groupLevel,label){var l10n=Exhibit.ThumbnailView.l10n;var template={tag:"div",className:"exhibit-thumbnailView-group",children:[{tag:"h"+(groupLevel+1),children:[label,{tag:"span",className:"exhibit-collectionView-group-count",children:[" (",{tag:"span",field:"countSpan"},")"]}],field:"header"},{tag:"div",className:"exhibit-collectionView-group-content",field:"contentDiv"}]};return SimileAjax.DOM.createDOMFromTemplate(document,template);};Exhibit.ThumbnailView.theme.constructItemContainer=function(exhibit){var div=document.createElement("div");div.className="exhibit-thumbnailView-body";return div;};

/* tile-view-theme.js */

Exhibit.TileView.theme=new Object();Exhibit.TileView.theme.constructGroup=function(exhibit,groupLevel,label){var l10n=Exhibit.TileView.l10n;var template={tag:"div",className:"exhibit-collectionView-group",children:[{tag:"h"+(groupLevel+1),children:[label,{tag:"span",className:"exhibit-collectionView-group-count",children:[" (",{tag:"span",field:"countSpan"},")"]}],field:"header"},{tag:"div",className:"exhibit-collectionView-group-content",field:"contentDiv"}]};return SimileAjax.DOM.createDOMFromTemplate(document,template);};Exhibit.TileView.theme.constructTable=function(exhibit){var table=document.createElement("table");table.className="exhibit-tileView-body";return table;};

/* timeline-view-theme.js */

Exhibit.TimelineView.theme=new Object();Exhibit.TimelineView.theme.markers=[{color:"FF9000",textColor:"000000"},{color:"5D7CBA",textColor:"000000"},{color:"A97838",textColor:"000000"},{color:"8B9BBA",textColor:"000000"},{color:"BF955F",textColor:"000000"},{color:"003EBA",textColor:"FFFFFF"},{color:"29447B",textColor:"FFFFFF"},{color:"543C1C",textColor:"FFFFFF"}];Exhibit.TimelineView.theme.constructDom=function(collection,exhibit,div,onClearFilters,onRelayout){var l10n=Exhibit.TimelineView.l10n;var template={elmt:div,children:[{tag:"div",className:"exhibit-collectionView-header",children:[{tag:"div",field:"noResultDiv",style:{display:"none"},children:Exhibit.ViewPanel.l10n.createNoResultsTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details")},{tag:"div",field:"resultsDiv",style:{display:"none"},children:[{elmt:Exhibit.ViewPanel.makeCopyAllButton(collection,exhibit.getDatabase()),style:{"float":"right"}},{tag:"div",children:Exhibit.ViewPanel.l10n.createResultsSummaryTemplate("exhibit-collectionView-header-count","exhibit-collectionView-header-types","exhibit-collectionView-header-details",Exhibit.UI.makeActionLink(Exhibit.ViewPanel.l10n.resetFiltersLabel,onClearFilters))},{tag:"div",className:"exhibit-timelineView-plottableDetails",field:"plottableDiv"}]}]},{tag:"div",className:"exhibit-timelineView-timelineContainer",children:[{tag:"div",className:"exhibit-timelineView-timeline",field:"timelineDiv"}]},{tag:"div",className:"exhibit-timelineView-resizer",field:"resizerDiv",children:[{elmt:Exhibit.Theme.createTranslucentImage(document,"images/down-arrow.png")}]},{tag:"div",className:"exhibit-timelineView-controls",children:[{tag:"button",field:"relayoutButton",children:[l10n.relayoutButtonLabel]}]},{tag:"div",className:"exhibit-timelineView-legend",field:"legendDiv"}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);SimileAjax.WindowManager.registerEvent(dom.relayoutButton,"click",onRelayout);dom.setCounts=function(resultsCount,plottableCount,originalCount){if(resultsCount==0){dom.noResultDiv.style.display="block";dom.resultsDiv.style.display="none";}else{dom.noResultDiv.style.display="none";dom.resultsDiv.style.display="block";}
if(originalCount!=resultsCount){dom.noFilterDetailsSpan.style.display="none";dom.filteredDetailsSpan.style.display="inline";}else{dom.noFilterDetailsSpan.style.display="inline";dom.filteredDetailsSpan.style.display="none";}
if(plottableCount!=resultsCount){dom.plottableDiv.style.display="block";dom.plottableDiv.innerHTML=l10n.formatMappableCount(plottableCount);}else{dom.plottableDiv.style.display="none";}
dom.itemCountSpan.innerHTML=resultsCount;dom.originalCountSpan.innerHTML=originalCount;};dom.setTypes=function(typeLabels){var typeLabel=(typeLabels.length>0&&typeLabels.length<=3)?Exhibit.l10n.composeListString(typeLabels):Exhibit.Database.l10n.itemType.pluralLabel;dom.typesSpan.innerHTML=typeLabel;};dom.getTimelineDiv=function(){return dom.timelineDiv;};dom.clearLegend=function(){dom.legendDiv.innerHTML="<table cellspacing='10'><tr valign='top'></tr></table>";};dom.addLegendBlock=function(blockDom){var tr=dom.legendDiv.firstChild.rows[0];var td=tr.insertCell(tr.cells.length);td.appendChild(blockDom.elmt);};SimileAjax.WindowManager.registerForDragging(dom.resizerDiv,{onDragStart:function(){this._height=dom.timelineDiv.offsetHeight;},onDragBy:function(diffX,diffY){this._height+=diffY;dom.timelineDiv.style.height=Math.max(50,this._height)+"px";},onDragEnd:function(){dom.timeline.layout();}});return dom;};Exhibit.TimelineView.theme.constructLegendBlockDom=function(exhibit,title,colors,labels){var l10n=Exhibit.TimelineView.l10n;var template={tag:"div",className:"exhibit-timelineView-legendBlock",children:[{tag:"div",className:"exhibit-timelineView-legendBlock-title",children:[title]}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);for(var i=0;i<colors.length;i++){var div=document.createElement("div");div.className="exhibit-timelineView-legendBlock-entry";div.style.color=colors[i];var span=document.createElement("span");span.className="exhibit-timelineView-legendBlock-swatch";span.style.background=colors[i];span.innerHTML="&nbsp;";div.appendChild(span);div.appendChild(document.createTextNode(" "+labels[i]));dom.elmt.appendChild(div);}
return dom;}

/* view-panel-theme.js */

Exhibit.ViewPanel.theme=new Object();Exhibit.ViewPanel.theme.constructDom=function(exhibit,div,viewLabels,viewTooltips,onSelectView){var l10n=Exhibit.ViewPanel.l10n;var template={elmt:div,className:"exhibit-viewPanel exhibit-ui-protection",children:[{tag:"div",className:"exhibit-viewPanel-viewSelection",field:"viewSelectionDiv"},{tag:"div",className:"exhibit-viewPanel-viewContainer",field:"viewContainerDiv"}]};var dom=SimileAjax.DOM.createDOMFromTemplate(document,template);dom.getViewContainer=function(){return dom.viewContainerDiv;};dom.setViewIndex=function(index){if(viewLabels.length>1){dom.viewSelectionDiv.innerHTML="";var appendView=function(i){var selected=(i==index);if(i>0){dom.viewSelectionDiv.appendChild(document.createTextNode(" \u2022 "));}
var span=document.createElement("span");span.className=selected?"exhibit-viewPanel-viewSelection-selectedView":"exhibit-viewPanel-viewSelection-view";span.title=viewTooltips[i];span.innerHTML=viewLabels[i];if(!selected){var handler=function(elmt,evt,target){onSelectView(i);SimileAjax.DOM.cancelEvent(evt);return false;}
SimileAjax.WindowManager.registerEvent(span,"click",handler);}
dom.viewSelectionDiv.appendChild(span);};for(var i=0;i<viewLabels.length;i++){appendView(i);}}};return dom;};